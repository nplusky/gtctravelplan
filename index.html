<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 GTC Planner - English First</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body class="bg-slate-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const Icon = ({ name, className = "w-6 h-6" }) => {
            useEffect(() => {
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, [name]);
            return <i data-lucide={name} className={className}></i>;
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('itinerary');
            const [selectedDay, setSelectedDay] = useState(0);
            const [exploreTab, setExploreTab] = useState('attractions');
            const [isAdding, setIsAdding] = useState(false);
            const [itemToAdd, setItemToAdd] = useState(null);
            
            // 行程數據
            const [itinerary, setItinerary] = useState([
                { date: '3/13', dayName: 'Fri', events: [{ id: 1, time: '19:40', location: 'SFO Airport', note: 'Arrival & Car Rental', type: 'transport' }]},
                { date: '3/14', dayName: 'Sat', events: [
                    { id: 2, time: '09:30', location: 'Ferry Building', note: 'Farmers Market', type: 'food' },
                    { id: 10, time: '13:00', location: 'Alcatraz Island', note: 'Pre-booked Tour', type: 'sight' }
                ]},
                { date: '3/15', dayName: 'Sun', events: [{ id: 4, time: '10:00', location: 'UC Berkeley', note: 'Campus Visit', type: 'sight' }]},
                { date: '3/16', dayName: 'Mon', events: [{ id: 101, time: '09:00', location: 'San Jose Convention Center', note: 'GTC Day 1', type: 'work' }]},
                { date: '3/17', dayName: 'Tue', events: [{ id: 102, time: '09:00', location: 'San Jose Convention Center', note: 'GTC Day 2', type: 'work' }]},
                { date: '3/18', dayName: 'Wed', events: [{ id: 103, time: '09:00', location: 'San Jose Convention Center', note: 'GTC Day 3', type: 'work' }]},
                { date: '3/19', dayName: 'Thu', events: [{ id: 104, time: '09:00', location: 'San Jose Convention Center', note: 'GTC Day 4', type: 'work' }]},
                { date: '3/20', dayName: 'Fri', events: [{ id: 6, time: '12:00', location: 'SFO Airport', note: 'Return Flight', type: 'transport' }]}
            ]);

            // 景點清單 (已按 A-Z 排序)
            const attractions = useMemo(() => [
                { en: "Alcatraz Island", zh: "惡魔島", city: "SF", tag: "culture", desc: "歷史悠久的聯邦監獄所在地" },
                { en: "Baker Beach", zh: "貝克海灘", city: "SF", tag: "nature", desc: "拍攝金門大橋最經典的海濱角度" },
                { en: "Cable Car Museum", zh: "纜車博物館", city: "SF", tag: "culture", desc: "展示舊金山百年纜車的動力核心" },
                { en: "Cable Car Ride", zh: "叮叮車體驗", city: "SF", tag: "popular", desc: "舊金山不可錯過的交通工具" },
                { en: "Carmel-by-the-sea", zh: "卡梅爾小鎮", city: "Monterey", tag: "nature", desc: "如童話般的藝術家濱海小鎮" },
                { en: "City Lights Booksellers", zh: "城市之光書店", city: "SF", tag: "culture", desc: "垮掉的一代，獨立書店精神標竿" },
                { en: "Coit Tower", zh: "科伊特塔", city: "SF", tag: "popular", desc: "俯瞰灣區全景的絕佳高處" },
                { en: "Computer History Museum", zh: "電腦歷史博物館", city: "Mountain View", tag: "culture", desc: "科技人的矽谷必訪點" },
                { en: "Ferry Building", zh: "渡輪大廈", city: "SF", tag: "popular", desc: "頂級美食市集與渡輪轉運站" },
                { en: "Fisherman's Wharf", zh: "漁人碼頭", city: "SF", tag: "popular", desc: "海獅、美食與觀光中心" },
                { en: "Fort Point View Point", zh: "堡壘觀點", city: "SF", tag: "popular", desc: "近距離觀看金門大橋底部最佳位置" },
                { en: "Ghirardelli Square", zh: "巧克力廣場", city: "SF", tag: "popular", desc: "巧克力控的朝聖地" },
                { en: "Golden Gate Park", zh: "金門公園", city: "SF", tag: "nature", desc: "橫跨多個博物館與植物園的大型公園" },
                { en: "Haight-Ashbury", zh: "海特艾許伯里", city: "SF", tag: "culture", desc: "嬉皮文化的發源地" },
                { en: "Legion of Honor", zh: "榮譽軍團博物館", city: "SF", tag: "culture", desc: "收藏豐富的古典藝術博物館" },
                { en: "Lick Observatory", zh: "利克天文台", city: "San Jose", tag: "nature", desc: "漢彌爾頓山頂的古老研究站" },
                { en: "Lombard Street", zh: "九曲花街", city: "SF", tag: "popular", desc: "世界上最彎曲的街道，佈滿鮮花與坡度景觀" },
                { en: "Mission Dolores Park", zh: "多洛雷斯公園", city: "SF", tag: "popular", desc: "在地人最愛的野餐與市容觀賞地" },
                { en: "Mission of San Francisco de Asis", zh: "聖方濟傳教站", city: "SF", tag: "culture", desc: "舊金山現存最古老建築" },
                { en: "Muir Woods", zh: "穆爾紅木林", city: "North Bay", tag: "nature", desc: "巨型紅木森林步道" },
                { en: "North Beach", zh: "北灘", city: "SF", tag: "culture", desc: "小義大利區，充斥咖啡館與文化" },
                { en: "Painted Ladies", zh: "彩繪女士", city: "SF", tag: "culture", desc: "維多利亞式房屋，六姊妹建築" },
                { en: "Palace of Fine Arts", zh: "藝術宮", city: "SF", tag: "culture", desc: "古希臘風格的圓頂與廊柱景觀" },
                { en: "PIER 39", zh: "39號碼頭", city: "SF", tag: "popular", desc: "著名的海獅群所在地" },
                { en: "Queen Wilhelmina Garden", zh: "威廉明娜女王花園", city: "SF", tag: "nature", desc: "鬱金香與風車的異國風情" },
                { en: "Salesforce Park", zh: "空中花園", city: "SF", tag: "nature", desc: "絕美城市懸空森林公園" },
                { en: "Santana Row", zh: "桑塔納行", city: "San Jose", tag: "popular", desc: "聖荷西最奢華的購物休閒街區" },
                { en: "Sausalito", zh: "索薩利托", city: "North Bay", tag: "nature", desc: "風景如畫的濱海藝術小鎮，可遠眺舊金山天際線" },
                { en: "The Tech Interactive", zh: "創新科技博物館", city: "San Jose", tag: "culture", desc: "位於聖荷西的互動科學中心" },
                { en: "Transamerica Pyramid", zh: "泛美金字塔", city: "SF", tag: "popular", desc: "舊金山最具代表性的尖頂建築" },
                { en: "UC Berkeley", zh: "柏克萊大學", city: "East Bay", tag: "culture", desc: "頂尖學術氛圍與優美校園" },
                { en: "Union Square", zh: "聯合廣場", city: "SF", tag: "popular", desc: "市中心商業購物與聖誕核心" },
                { en: "Winchester Mystery House", zh: "溫徹斯特神秘屋", city: "San Jose", tag: "culture", desc: "充滿傳奇與怪異建築結構的老屋" },
                { en: "Yosemite National Park", zh: "優勝美地", city: "CA", tag: "nature", desc: "壯麗峽谷與瀑布，世界遺產" }
            ], []);

            // 餐廳清單 (已按 A-Z 排序)
            const restaurants = useMemo(() => [
                { en: "Arsicault Bakery", zh: "名廚烘培店", city: "SF", tag: "cafe", desc: "公認全美最佳可頌" },
                { en: "Boudin Bakery", zh: "波丁酸麵包", city: "SF", tag: "restaurant", desc: "著名的酸麵包碗蛤蜊濃湯" },
                { en: "Butter & Crumble", zh: "特色甜點", city: "SF", tag: "cafe", desc: "高顏值精緻糕點店" },
                { en: "Cotogna", zh: "義式火烤料理", city: "SF", tag: "restaurant", desc: "米其林等級的精緻義大利菜" },
                { en: "Del Popolo", zh: "拿坡里比薩", city: "SF", tag: "restaurant", desc: "獲獎無數的柴燒薄皮比薩" },
                { en: "Fog Harbor Fish House", zh: "霧港魚屋", city: "SF", tag: "restaurant", desc: "碼頭必吃海鮮，風景絕佳" },
                { en: "Jane The Bakery", zh: "珍之烘培", city: "SF", tag: "cafe", desc: "多樣化糕點與精緻早午餐" },
                { en: "Josey Baker Bread", zh: "Josey Baker 麵包", city: "SF", tag: "cafe", desc: "酸種麵包狂熱者必訪" },
                { en: "Lori’s Diner", zh: "美式懷舊餐廳", city: "SF", tag: "restaurant", desc: "50年代裝潢風格的復古餐館" },
                { en: "Market Bar", zh: "市場酒吧", city: "SF", tag: "restaurant", desc: "渡輪大廈內的在地食材餐廳" },
                { en: "Molinari Delicatessen", zh: "義式熟食店", city: "SF", tag: "restaurant", desc: "傳奇的三明治與義式火腿" },
                { en: "Shoji", zh: "莊司料理", city: "SJ", tag: "restaurant", desc: "聖荷西在地優質餐飲" },
                { en: "The Boiling Crab", zh: "美式手抓海鮮", city: "SJ", tag: "restaurant", desc: "經典辣醬拌海鮮桶" },
                { en: "The Buena Vista", zh: "愛爾蘭咖啡", city: "SF", tag: "restaurant", desc: "愛爾蘭咖啡在美發源地" },
                { en: "The Coffee Movement", zh: "咖啡運動", city: "SF", tag: "cafe", desc: "小巷裡的頂尖手沖體驗" },
                { en: "The Mill", zh: "厚切吐司咖啡", city: "SF", tag: "cafe", desc: "極簡設計風格與手工麵包" },
                { en: "The Spinnaker", zh: "帆船餐廳", city: "Sausalito", tag: "restaurant", desc: "跨海遙望舊金山市景的首選" },
                { en: "Tony’s Pizza Napoletana", zh: "東尼比薩", city: "SF", tag: "restaurant", desc: "多屆比薩冠軍坐鎮" }
            ], []);

            const addEventToItinerary = (e) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                const dayIndex = parseInt(formData.get('dayIndex'));
                
                const newEvent = {
                    id: Date.now(),
                    time: formData.get('time') || '12:00',
                    location: formData.get('location'),
                    note: formData.get('note'),
                    type: 'manual'
                };
                
                const updatedItinerary = [...itinerary];
                updatedItinerary[dayIndex].events.push(newEvent);
                updatedItinerary[dayIndex].events.sort((a, b) => a.time.localeCompare(b.time));
                setItinerary(updatedItinerary);
                setIsAdding(false);
                setItemToAdd(null);
                setActiveTab('itinerary');
                setSelectedDay(dayIndex);
            };

            const getTagStyle = (tag) => {
                switch(tag) {
                    case 'popular': return { bg: 'bg-rose-50', text: 'text-rose-600', icon: 'star', label: 'HOT' };
                    case 'nature': return { bg: 'bg-emerald-50', text: 'text-emerald-600', icon: 'leaf', label: 'NATURE' };
                    case 'culture': return { bg: 'bg-indigo-50', text: 'text-indigo-600', icon: 'landmark', label: 'CULTURE' };
                    case 'cafe': return { bg: 'bg-orange-50', text: 'text-orange-600', icon: 'coffee', label: 'CAFE' };
                    default: return { bg: 'bg-blue-50', text: 'text-blue-600', icon: 'utensils', label: 'FOOD' };
                }
            };

            const openGoogleMaps = (name, city = "") => {
                const query = `${name} ${city}`;
                window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`, '_blank');
            };

            const currentDayData = itinerary[selectedDay];

            return (
                <div className="flex flex-col h-screen bg-slate-50 text-slate-900 max-w-md mx-auto shadow-2xl overflow-hidden border-x border-slate-200 relative">
                    <header className="px-6 pt-10 pb-4 bg-white border-b border-slate-100 sticky top-0 z-40">
                        <div className="flex justify-between items-start">
                            <h1 className="text-2xl font-black text-blue-600 uppercase tracking-tighter italic">2026 GTC</h1>
                            <button onClick={() => {setItemToAdd(null); setIsAdding(true);}} className="p-2 bg-blue-50 text-blue-600 rounded-xl active:scale-95 transition-transform">
                                <Icon name="plus" className="w-5 h-5" />
                            </button>
                        </div>
                    </header>

                    <main className="flex-1 overflow-y-auto pb-28 no-scrollbar">
                        {activeTab === 'itinerary' && (
                            <div className="p-6">
                                <div className="flex gap-2 mb-6 overflow-x-auto no-scrollbar pb-2">
                                    {itinerary.map((day, idx) => (
                                        <button key={idx} onClick={() => setSelectedDay(idx)} className={`flex-shrink-0 px-4 py-3 rounded-2xl flex flex-col items-center min-w-[60px] transition-all ${selectedDay === idx ? 'bg-blue-600 text-white shadow-lg' : 'bg-white text-slate-400 border border-slate-100'}`}>
                                            <span className="text-[10px] font-bold uppercase">{day.dayName}</span>
                                            <span className="text-sm font-black">{day.date.split('/')[1]}</span>
                                        </button>
                                    ))}
                                </div>
                                <h2 className="text-xl font-black text-slate-800 mb-6 flex justify-between items-center">
                                    <span>{currentDayData.date} {currentDayData.dayName}</span>
                                    <span className="text-[10px] text-slate-400 bg-slate-100 px-2 py-1 rounded-md">{currentDayData.events.length} Items</span>
                                </h2>
                                <div className="space-y-4">
                                    {currentDayData.events.map((event) => (
                                        <div key={event.id} className="bg-white p-5 rounded-[2rem] shadow-sm border border-slate-100">
                                            <div className="text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded-lg inline-block mb-3">{event.time}</div>
                                            <div className="font-black text-slate-800 block mb-1">{event.location}</div>
                                            <p className="text-[10px] text-slate-400 italic">{event.note}</p>
                                            <button onClick={() => openGoogleMaps(event.location)} className="w-full mt-4 bg-slate-50 py-2.5 rounded-xl text-[10px] font-black text-slate-400 flex items-center justify-center gap-2">
                                                <Icon name="navigation" className="w-3 h-3"/> GOOGLE MAPS
                                            </button>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {activeTab === 'explore' && (
                            <div className="p-6 space-y-4">
                                <div className="flex bg-slate-200/50 p-1 rounded-2xl mb-6 sticky top-0 z-30">
                                    <button onClick={() => setExploreTab('attractions')} className={`flex-1 py-3 rounded-xl text-xs font-black transition-all ${exploreTab === 'attractions' ? 'bg-white shadow-sm text-blue-600' : 'text-slate-400'}`}>Sights ({attractions.length})</button>
                                    <button onClick={() => setExploreTab('food')} className={`flex-1 py-3 rounded-xl text-xs font-black transition-all ${exploreTab === 'food' ? 'bg-white shadow-sm text-blue-600' : 'text-slate-400'}`}>Food ({restaurants.length})</button>
                                </div>
                                {(exploreTab === 'attractions' ? attractions : restaurants).map((item, idx) => {
                                    const tag = getTagStyle(item.tag);
                                    return (
                                        <div key={idx} className="bg-white p-5 rounded-[2rem] shadow-sm border border-slate-100">
                                            <div className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full mb-2 ${tag.bg} ${tag.text}`}>
                                                <Icon name={tag.icon} className="w-3 h-3" />
                                                <span className="text-[10px] font-black uppercase tracking-wider">{tag.label}</span>
                                            </div>
                                            <h3 className="font-black text-slate-800 text-lg">{item.en}</h3>
                                            <p className="text-[10px] font-bold text-slate-400 mb-2">{item.zh} · {item.city}</p>
                                            <div className="text-xs text-slate-500 leading-relaxed bg-slate-50 p-3 rounded-2xl mb-4 italic">
                                                {item.desc}
                                            </div>
                                            <div className="flex gap-2">
                                                <button 
                                                    onClick={() => {setItemToAdd(item); setIsAdding(true);}} 
                                                    className="flex-1 bg-blue-600 text-white py-2.5 rounded-xl text-[10px] font-black flex items-center justify-center gap-2 active:scale-95 transition-all"
                                                >
                                                    <Icon name="calendar-plus" className="w-3 h-3"/> ADD TO PLAN
                                                </button>
                                                <button 
                                                    onClick={() => openGoogleMaps(item.en, item.city)} 
                                                    className="px-4 bg-slate-50 py-2.5 rounded-xl text-[10px] font-black text-slate-400 border border-slate-100 active:scale-95 transition-all"
                                                >
                                                    <Icon name="map-pin" className="w-3 h-3"/>
                                                </button>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        )}

                        {activeTab === 'map' && (
                            <div className="h-full flex flex-col items-center justify-center p-10">
                                <div className="w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center mb-6">
                                    <Icon name="map" className="w-12 h-12 text-blue-500" />
                                </div>
                                <h2 className="text-2xl font-black mb-4 uppercase text-blue-600 italic">Navigation</h2>
                                <button onClick={() => window.open('https://www.google.com/maps/search/San+Francisco+and+San+Jose+Attractions', '_blank')} className="w-full bg-blue-600 text-white py-4 rounded-3xl font-black text-sm shadow-xl flex items-center justify-center gap-3">
                                    <Icon name="globe" className="w-5 h-5" /> FULL MAP VIEW
                                </button>
                            </div>
                        )}
                    </main>

                    {/* Modal */}
                    {isAdding && (
                        <div className="fixed inset-0 z-[60] flex items-end justify-center px-4 pb-10">
                            <div className="absolute inset-0 bg-slate-900/40 backdrop-blur-sm" onClick={() => setIsAdding(false)}></div>
                            <form onSubmit={addEventToItinerary} className="relative w-full max-w-sm bg-white rounded-[3rem] p-8 shadow-2xl animate-in slide-in-from-bottom duration-300">
                                <h3 className="text-xl font-black mb-6 text-slate-800 uppercase italic">
                                    {itemToAdd ? `Add: ${itemToAdd.en}` : 'New Event'}
                                </h3>
                                <input type="hidden" name="location" defaultValue={itemToAdd ? itemToAdd.en : ''} />
                                <div className="space-y-4 mb-8">
                                    <div>
                                        <label className="text-[10px] font-black text-slate-400 mb-2 block uppercase">Select Day</label>
                                        <select name="dayIndex" className="w-full bg-slate-50 border-none rounded-2xl px-4 py-3 font-bold">
                                            {itinerary.map((day, idx) => (
                                                <option key={idx} value={idx}>{day.date} ({day.dayName})</option>
                                            ))}
                                        </select>
                                    </div>
                                    <div>
                                        <label className="text-[10px] font-black text-slate-400 mb-2 block uppercase">Time</label>
                                        <input required name="time" type="time" defaultValue="12:00" className="w-full bg-slate-50 border-none rounded-2xl px-4 py-3 font-bold" />
                                    </div>
                                    {!itemToAdd && (
                                        <div>
                                            <label className="text-[10px] font-black text-slate-400 mb-2 block uppercase">Location Name</label>
                                            <input required name="location" type="text" placeholder="e.g., Apple Park" className="w-full bg-slate-50 border-none rounded-2xl px-4 py-3 font-bold" />
                                        </div>
                                    )}
                                    <div>
                                        <label className="text-[10px] font-black text-slate-400 mb-2 block uppercase">Note</label>
                                        <textarea name="note" placeholder="Reservation, reminder, etc..." className="w-full bg-slate-50 border-none rounded-2xl px-4 py-3 font-bold h-20 resize-none"></textarea>
                                    </div>
                                </div>
                                <div className="flex gap-3">
                                    <button type="button" onClick={() => setIsAdding(false)} className="flex-1 py-4 bg-slate-100 text-slate-400 rounded-2xl font-black text-xs uppercase">Cancel</button>
                                    <button type="submit" className="flex-[2] py-4 bg-blue-600 text-white rounded-2xl font-black text-xs uppercase shadow-lg shadow-blue-200">Confirm</button>
                                </div>
                            </form>
                        </div>
                    )}

                    <nav className="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white/95 backdrop-blur-xl border-t border-slate-100 px-8 py-5 flex justify-between rounded-t-[2.5rem] shadow-2xl z-50 safe-bottom">
                        <button onClick={() => setActiveTab('itinerary')} className={`flex flex-col items-center gap-1 transition-all ${activeTab === 'itinerary' ? 'text-blue-600 scale-110' : 'text-slate-300'}`}>
                            <Icon name="calendar" /><span className="text-[8px] font-black uppercase tracking-widest">Plan</span>
                        </button>
                        <button onClick={() => setActiveTab('explore')} className={`flex flex-col items-center gap-1 transition-all ${activeTab === 'explore' ? 'text-blue-600 scale-110' : 'text-slate-300'}`}>
                            <Icon name="search" /><span className="text-[8px] font-black uppercase tracking-widest">Sights</span>
                        </button>
                        <button onClick={() => setActiveTab('map')} className={`flex flex-col items-center gap-1 transition-all ${activeTab === 'map' ? 'text-blue-600 scale-110' : 'text-slate-300'}`}>
                            <Icon name="map" /><span className="text-[8px] font-black uppercase tracking-widest">Maps</span>
                        </button>
                    </nav>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
